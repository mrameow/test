<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PopAR Kit</title>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="game-title">PopAR Kit</div>
        <div class="game-area">
            <div class="video-container">
                <video id="video-input" playsinline></video>
                <canvas id="output-canvas"></canvas>
            </div>

            <div class="score-container">
                <div class="score">Score: <span id="score">0</span></div>
                <div class="question-counter">Question: <span id="question-counter">0/X</span></div>
            </div>

            <div class="word-display">
                <div class="word-container" id="word-container">
                    </div>
            </div>

            <div class="feedback" id="feedback"></div>

            <div class="hand-indicator">
                Hand detected: <span id="hand-status">No</span>
            </div>

            <button class="btn main-menu-btn" id="main-menu-btn">Main Menu</button>

            <div class="level-selection-screen" id="level-selection-screen" style="display: none;">
                <h1>Choose Your Level</h1>
                <p>Select a predefined level or enter a custom Google Sheet tab name.</p>
                <div class="level-buttons-container" id="level-buttons-container">
                    </div>
                <div class="level-input-container">
                    <input type="text" id="sheet-name-input" placeholder="Enter Custom Sheet Tab Name" aria-label="Enter Sheet Tab Name">
                    <button class="btn" id="go-btn">Go!</button>
                </div>
                <div class="volume-controls">
                    <div class="volume-slider-container">
                        <label for="bgm-volume">Background Music</label>
                        <input type="range" id="bgm-volume" class="volume-slider" min="0" max="1" step="0.01" value="0.5">
                    </div>
                    <div class="volume-slider-container">
                        <label for="sfx-volume">Sound Effects</label>
                        <input type="range" id="sfx-volume" class="volume-slider" min="0" max="1" step="0.01" value="0.8">
                    </div>
                </div>
            </div>

            <div class="start-screen" id="start-screen" style="display: none;">
                <h1 id="start-screen-title">✏️ PopAR Kit ✏️</h1>
                <p id="start-screen-description">Use your index finger to pop the bubble with the correct letter to complete the word. Complete up to 10 word spellings!</p>
                <button class="btn" id="start-btn">Start Quiz</button>
            </div>

            <div class="game-over" id="game-over">
                <h2>Quiz Complete!</h2>
                <p>Your score: <span id="final-score">0</span>/X</p>
                <button class="btn" id="restart-btn">Play Again</button>
            </div>

            <div class="camera-permission" id="camera-permission">
                <h2>Camera Access Required</h2>
                <p>This quiz needs access to your camera to track your hand movements. Please allow camera access when prompted.</p>
                <button class="btn" id="camera-btn">Enable Camera</button>
            </div>
        </div>
    </div>

    <audio id="backgroundMusic" src="backgroundMusic.mp3" loop></audio>
    <audio id="buttonClickSound" preload="auto" src="buttonClickSound.mp3"></audio>
    <audio id="popBubbleSound" preload="auto" src="popBubbleSound.mp3"></audio>
    <audio id="correctAnswerSound" preload="auto" src="correctAnswerSound.mp3"></audio>
    <audio id="wrongAnswerSound" preload="auto"src="wrongAnswerSound.mp3"></audio>

    <script src="script.js"></script>
</body>
</html>